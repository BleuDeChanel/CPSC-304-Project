Query Lists

Selection and projection Query
select * from customers
select name, phonenumber from customers where membershipID = 1


Join Query
select tier from club_memberships INNER JOIN customers On club_memberships.membershipid = customers.membershipid where customers.name = 'Jin Min Lee'

users input the customer name 


Division Query
SELECT name FROM Instructors I WHERE NOT EXISTS
 ((SELECT PT.privateTitle 
 FROM Private_taught PT
 WHERE PT.private_fee > 5000)
 EXCEPT
 (SELECT PeT.privateTitle
FROM Private_taught PeT WHERE PeT.insSIN=I.insSIN))

user input the private_fee


Aggregation
select max(fee) from membership_plans
select count(*) from program_taught P, Instructors I,
WHERE p.insSIN = i.insSIN AND i.name = 'John'

Nested Aggregation:

Create View Tem(insSIN,aggfee) as 
   SELECT PT.insSIN, AVG (PT.private_fee) AS aggfee
   FROM Private_taught PT
   GROUP BY PT.insSIN;

Select insSIN,aggfee
from Tem
where aggfee =  (SELECT MAX(aggfee) FROM Tem);

Delete: 
Delete from Office_Employees
where name = 'Mike Smith';

Update:
/*
Alter table Program_taught
add check (numberOfPeople >= 2);
*/

//violates constraint 
INSERT INTO Program_taught(programTitle, numberOfPeople , fee, startDate, endDate, insSIN)
VALUES ('tennis pro', 1, 199.98, '2018-05-01', '2018-06-30', '666666666');


//passes constraint 
INSERT INTO Program_taught(programTitle, numberOfPeople , fee, startDate, endDate, insSIN)
VALUES ('tennis pro', 3, 199.98, '2018-05-01', '2018-06-30', '666666666');

